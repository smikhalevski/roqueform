<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Roqueform</title><meta name="description" content="Documentation for Roqueform"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Roqueform</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>Roqueform</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#roqueformenspðŸ§€ensp" id="roqueformenspðŸ§€ensp" style="color: inherit; text-decoration: none;">
  <h1>Roqueform&ensp;ðŸ§€&ensp;<a href="https://github.com/smikhalevski/roqueform/actions/workflows/master.yml"><img src="https://github.com/smikhalevski/roqueform/actions/workflows/master.yml/badge.svg?branch=master&event=push" alt="build"></a></h1>
</a>
<p>The form state management library that can handle hundreds of fields without breaking a sweat.</p>
<ul>
<li>Extremely fast, re-renders only updated fields;</li>
<li>Laconic API with strict typings;</li>
<li><a href="#plugins">Built-in extensibility mechanisms</a>;</li>
<li><a href="https://bundlephobia.com/result?p=roqueform">Just 1 kB gzipped</a>;</li>
<li><a href="#validation">Custom validation support</a>.</li>
</ul>
<p>ðŸ”¥&ensp;<a href="https://codesandbox.io/s/roqueform-example-2evfif"><strong>Try it on CodeSandbox</strong></a></p>
<pre><code class="language-sh"><span class="hl-0">npm install --save-prod roqueform</span>
</code></pre>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#usefield"><code>useField</code></a><ul>
<li><a href="#field-value-updates">Field value updates</a></li>
<li><a href="#transient-updates">Transient updates</a></li>
<li><a href="#field-observability">Field observability</a></li>
</ul>
</li>
<li><a href="#field"><code>Field</code></a><ul>
<li><a href="#eager-and-lazy-re-renders">Eager and lazy re-renders</a></li>
<li><a href="#reacting-to-changes">Reacting to changes</a></li>
</ul>
</li>
<li><a href="#plugins">Plugins</a><ul>
<li><a href="#composing-plugins">Composing plugins</a></li>
</ul>
</li>
<li><a href="#form-submission">Form submission</a></li>
<li><a href="#validation">Validation</a></li>
<li><a href="#accessors">Accessors</a></li>
</ul>

<a href="#introduction" id="introduction" style="color: inherit; text-decoration: none;">
  <h1>Introduction</h1>
</a>
<p>Form lifecycle consists of four separate phases: Input, Validate, Display errors, and Submit. These phases can be
represented as non-intersecting processes. The result obtained during one phase may be used as an input for another
phase. For example, let&#39;s consider the following set of actions:</p>
<ul>
<li>The user inputs form values;</li>
<li>The input is validated;</li>
<li>Validation errors are displayed;</li>
<li>Input is submitted;</li>
<li>Errors received from the backend are displayed.</li>
</ul>
<p>These actions are non-intersecting and can happen in an arbitrary order, or even in parallel. The form management
library should allow to tap in (or at least not constrain the ability to do so) at any particular phase to tweak the
data flow.</p>
<p>So the Roqueform was built to satisfy the following requirements:</p>
<ul>
<li><p>No excessive re-renders of unchanged fields.</p>
</li>
<li><p>Everything should be statically and strictly typed up to the very field value setter. So there must be a compilation
error if the string value from the silly input is assigned to the number-typed value in the form state object.</p>
</li>
<li><p><strong>Use the platform!</strong> The form state management library must not constrain the use of the <code>form</code> submit behavior,
browser-based validation, and other related browser-native features.</p>
</li>
<li><p>There should be no restrictions on how and when the form input is submitted because data submission is generally
an application-specific process.</p>
</li>
<li><p>There are many approaches to validation, and a great number of awesome validation libraries. The form library must
be agnostic to where (client-side, server-side, or both), how (on a field or on a form level), and when (sync, or
async) the validation is handled.</p>
</li>
<li><p>Validation errors aren&#39;t standardized, so an arbitrary error object shape must be allowed and related typings must be
seamlessly propagated to the error consumers/renderers.</p>
</li>
<li><p>The library API must be simple.</p>
</li>
</ul>

<a href="#usefield" id="usefield" style="color: inherit; text-decoration: none;">
  <h1><code>useField</code></h1>
</a>
<p>The central piece of Roqueform is a <code>useField</code> hook that returns a <code>Field</code> object that represents a node in a tree of
form input controllers:</p>
<pre><code class="language-ts"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">useField</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;roqueform&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">unconstrainedField</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ Field&lt;any, {}&gt;</span>
</code></pre>
<p>You can provide an initial value to a field:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">field</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">foo:</span><span class="hl-0"> </span><span class="hl-3">&#39;bar&#39;</span><span class="hl-0"> });</span><br/><span class="hl-7">// â†’ Field&lt;{ foo: string }, {}&gt;</span>
</code></pre>
<p>You can derive new fields from the existing ones using <code>at</code> method:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">fooField</span><span class="hl-0"> = </span><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">at</span><span class="hl-0">(</span><span class="hl-3">&#39;foo&#39;</span><span class="hl-0">);</span><br/><span class="hl-7">// â†’ Field&lt;string, {}&gt;</span>
</code></pre>
<p><code>fooField</code> is a derived field, it is linked to the parent <code>field</code>. Fields returned by the <code>at</code> method have a stable
identity, so you can invoke <code>at</code> with the same key multiple times and the same field instance would be returned:</p>
<pre><code class="language-ts"><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">at</span><span class="hl-0">(</span><span class="hl-3">&#39;foo&#39;</span><span class="hl-0">) === </span><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">at</span><span class="hl-0">(</span><span class="hl-3">&#39;foo&#39;</span><span class="hl-0">) </span><span class="hl-7">// â†’ true</span>
</code></pre>
<p>Fields can be derived at any depth:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">field</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">foo:</span><span class="hl-0"> [{ </span><span class="hl-2">bar:</span><span class="hl-0"> </span><span class="hl-3">&#39;qux&#39;</span><span class="hl-0"> }] });</span><br/><br/><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">at</span><span class="hl-0">(</span><span class="hl-3">&#39;foo&#39;</span><span class="hl-0">).</span><span class="hl-6">at</span><span class="hl-0">(</span><span class="hl-8">0</span><span class="hl-0">).</span><span class="hl-6">at</span><span class="hl-0">(</span><span class="hl-3">&#39;bar&#39;</span><span class="hl-0">);</span><br/><span class="hl-7">// â†’ Field&lt;string, {}&gt;</span>
</code></pre>

<a href="#field-value-updates" id="field-value-updates" style="color: inherit; text-decoration: none;">
  <h2>Field value updates</h2>
</a>
<p>The field is essentially a container that encapsulates the value and provides methods to update it. Let&#39;s have a look at
the <code>dispatchValue</code> method that updates the field value:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">field</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">foo:</span><span class="hl-0"> </span><span class="hl-3">&#39;bar&#39;</span><span class="hl-0"> });</span><br/><br/><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ { foo: &#39;bar&#39; }</span><br/><br/><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">dispatchValue</span><span class="hl-0">({ </span><span class="hl-2">foo:</span><span class="hl-0"> </span><span class="hl-3">&#39;qux&#39;</span><span class="hl-0"> });</span><br/><br/><span class="hl-7">// The field value was updated</span><br/><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ { foo: &#39;qux&#39; }</span>
</code></pre>
<p><code>useField</code> doesn&#39;t trigger a re-render of the enclosing component. Navigate to
<a href="#field-observability">Field observability</a> section for more details.</p>
<p>When the parent field is updated using <code>dispatchValue</code>, all of the affected derived fields also receive an update:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">field</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">foo:</span><span class="hl-0"> </span><span class="hl-3">&#39;bar&#39;</span><span class="hl-0"> });</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">fooField</span><span class="hl-0"> = </span><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">at</span><span class="hl-0">(</span><span class="hl-3">&#39;foo&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ { foo: &#39;bar&#39; }</span><br/><br/><span class="hl-2">fooField</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ &#39;bar&#39;</span><br/><br/><span class="hl-7">// Updating the root field</span><br/><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">dispatchValue</span><span class="hl-0">({ </span><span class="hl-2">foo:</span><span class="hl-0"> </span><span class="hl-3">&#39;qux&#39;</span><span class="hl-0"> });</span><br/><br/><span class="hl-7">// The update was propagated to the derived field</span><br/><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ { foo: &#39;qux&#39; }</span><br/><br/><span class="hl-2">fooField</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ &#39;qux&#39;</span>
</code></pre>
<p>The same is valid for updating derived fields: when the derived field is updated using <code>dispatchValue</code>, the update is
propagated to the parent field.</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">field</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">foo:</span><span class="hl-0"> </span><span class="hl-3">&#39;bar&#39;</span><span class="hl-0"> });</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">fooField</span><span class="hl-0"> = </span><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">at</span><span class="hl-0">(</span><span class="hl-3">&#39;foo&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-7">// Updating the derived field</span><br/><span class="hl-2">fooField</span><span class="hl-0">.</span><span class="hl-6">dispatchValue</span><span class="hl-0">(</span><span class="hl-3">&#39;qux&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-7">// The update was propagated to the parent field</span><br/><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ { foo: &#39;qux&#39; }</span><br/><br/><span class="hl-2">fooField</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ &#39;qux&#39;</span>
</code></pre>
<p><code>dispatchValue</code> has a callback signature:</p>
<pre><code class="language-ts"><span class="hl-2">fooField</span><span class="hl-0">.</span><span class="hl-6">dispatchValue</span><span class="hl-0">(</span><span class="hl-2">prevValue</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> </span><span class="hl-3">&#39;qux&#39;</span><span class="hl-0">);</span>
</code></pre>

<a href="#transient-updates" id="transient-updates" style="color: inherit; text-decoration: none;">
  <h2>Transient updates</h2>
</a>
<p>The field update can be done transiently, so the parent won&#39;t be notified. You can think about this as a commit in git:
you first stage your changes with <code>git add</code> and then commit them with <code>git commit</code>.</p>
<p>To achieve this behavior we&#39;re going to use <code>setValue</code>/<code>dispatch</code> instead of <code>dispatchValue</code> that we discussed in
<a href="#field-value-updates">Field value updates</a> section:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">field</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">foo:</span><span class="hl-0"> </span><span class="hl-3">&#39;bar&#39;</span><span class="hl-0"> });</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">fooField</span><span class="hl-0"> = </span><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">at</span><span class="hl-0">(</span><span class="hl-3">&#39;foo&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-7">// Set the transient value, &quot;git add&quot;</span><br/><span class="hl-2">fooField</span><span class="hl-0">.</span><span class="hl-6">setValue</span><span class="hl-0">(</span><span class="hl-3">&#39;qux&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-7">// ðŸŸ¡ Notice that fooField was updated but field wasn&#39;t</span><br/><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ { foo: &#39;bar&#39; }</span><br/><br/><span class="hl-2">fooField</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ &#39;qux&#39;</span><br/><br/><span class="hl-7">// Notify the parent, &quot;git commit&quot;</span><br/><span class="hl-2">fooField</span><span class="hl-0">.</span><span class="hl-6">dispatch</span><span class="hl-0">();</span><br/><br/><span class="hl-7">// Now both fields are in sync</span><br/><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ { foo: &#39;qux&#39; }</span><br/><br/><span class="hl-2">fooField</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ &#39;qux&#39;</span>
</code></pre>
<p><code>setValue</code> can be called multiple times, but the most recent update would be propagated to the parent only after
<code>dispatch</code>/<code>dispatchValue</code> call.</p>
<p>You can check that the field has a transient value using <code>isTransient</code> method:</p>
<pre><code class="language-ts"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">field</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">foo:</span><span class="hl-0"> </span><span class="hl-3">&#39;bar&#39;</span><span class="hl-0"> });</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">fooField</span><span class="hl-0"> = </span><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">at</span><span class="hl-0">(</span><span class="hl-3">&#39;foo&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-2">fooField</span><span class="hl-0">.</span><span class="hl-6">setValue</span><span class="hl-0">(</span><span class="hl-3">&#39;qux&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-2">fooField</span><span class="hl-0">.</span><span class="hl-6">isTransient</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ true</span><br/><br/><span class="hl-2">fooField</span><span class="hl-0">.</span><span class="hl-6">dispatch</span><span class="hl-0">();</span><br/><br/><span class="hl-2">fooField</span><span class="hl-0">.</span><span class="hl-6">isTransient</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ false</span>
</code></pre>

<a href="#field-observability" id="field-observability" style="color: inherit; text-decoration: none;">
  <h2>Field observability</h2>
</a>
<p>Fields are observable, you can subscribe to them and receive a callback whenever the field state is updated:</p>
<pre><code class="language-ts"><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">subscribe</span><span class="hl-0">(</span><span class="hl-2">targetField</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-7">// Handle the update here</span><br/><span class="hl-0">});</span>
</code></pre>
<p><code>targetField</code> is a field that initiated the update, so this can be <code>field</code> itself, any of its derived fields, or any of
its ancestors (if <code>field</code> is also a derived field).</p>
<p>You can trigger all listeners that are subscribed to the field with <code>notify</code>:</p>
<pre><code class="language-ts"><span class="hl-2">field</span><span class="hl-0">.</span><span class="hl-6">notify</span><span class="hl-0">();</span>
</code></pre>

<a href="#field" id="field" style="color: inherit; text-decoration: none;">
  <h1><code>Field</code></h1>
</a>
<p>The <code>Field</code> component subscribes to the given field instance and re-renders its children when the field is updated:</p>
<pre><code class="language-tsx"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">Field</span><span class="hl-0">, </span><span class="hl-2">useField</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;roqueform&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-6">App</span><span class="hl-0"> = () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">rootField</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">(</span><span class="hl-3">&#39;foo&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-0">  </span><span class="hl-1">return</span><span class="hl-0"> (</span><br/><span class="hl-0">    </span><span class="hl-9">&lt;</span><span class="hl-10">Field</span><span class="hl-0"> </span><span class="hl-11">field</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">rootField</span><span class="hl-4">}</span><span class="hl-9">&gt;</span><br/><span class="hl-0">      </span><span class="hl-4">{</span><span class="hl-2">rootField</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> (</span><br/><span class="hl-12">        </span><span class="hl-9">&lt;</span><span class="hl-13">input</span><br/><span class="hl-12">          </span><span class="hl-11">value</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">rootField</span><span class="hl-12">.</span><span class="hl-6">getValue</span><span class="hl-12">()</span><span class="hl-4">}</span><br/><span class="hl-12">          </span><span class="hl-11">onChange</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">event</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> {</span><br/><span class="hl-12">            </span><span class="hl-2">rootField</span><span class="hl-12">.</span><span class="hl-6">dispatchValue</span><span class="hl-12">(</span><span class="hl-2">event</span><span class="hl-12">.</span><span class="hl-2">target</span><span class="hl-12">.</span><span class="hl-2">value</span><span class="hl-12">);</span><br/><span class="hl-12">          }</span><span class="hl-4">}</span><br/><span class="hl-12">        </span><span class="hl-9">/&gt;</span><br/><span class="hl-12">      )</span><span class="hl-4">}</span><br/><span class="hl-0">    </span><span class="hl-9">&lt;/</span><span class="hl-10">Field</span><span class="hl-9">&gt;</span><br/><span class="hl-0">  );</span><br/><span class="hl-0">};</span>
</code></pre>
<p>Now, when a user would update the input value, the <code>rootField</code> would be updated. The single argument passed to
<code>children</code> render function is the field passed as a <code>field</code> prop to the <code>Field</code> component.</p>
<p>It is unlikely that you would use a form with a single literal field. Most of the time multiple derived fields are
required:</p>
<pre><code class="language-tsx"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-6">App</span><span class="hl-0"> = () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">rootField</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">foo:</span><span class="hl-0"> </span><span class="hl-3">&#39;bar&#39;</span><span class="hl-0">, </span><span class="hl-2">bar:</span><span class="hl-0"> </span><span class="hl-8">123</span><span class="hl-0"> });</span><br/><br/><span class="hl-0">  </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-9">&lt;&gt;</span><br/><span class="hl-0">    </span><span class="hl-9">&lt;</span><span class="hl-10">Field</span><span class="hl-0"> </span><span class="hl-11">field</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">rootField</span><span class="hl-12">.</span><span class="hl-6">at</span><span class="hl-12">(</span><span class="hl-3">&#39;foo&#39;</span><span class="hl-12">)</span><span class="hl-4">}</span><span class="hl-9">&gt;</span><br/><span class="hl-0">      </span><span class="hl-4">{</span><span class="hl-2">fooField</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> (</span><br/><span class="hl-12">        </span><span class="hl-9">&lt;</span><span class="hl-13">input</span><br/><span class="hl-12">          </span><span class="hl-11">type</span><span class="hl-0">=</span><span class="hl-3">&quot;text&quot;</span><br/><span class="hl-12">          </span><span class="hl-11">value</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">fooField</span><span class="hl-12">.</span><span class="hl-6">getValue</span><span class="hl-12">()</span><span class="hl-4">}</span><br/><span class="hl-12">          </span><span class="hl-11">onChange</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">event</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> {</span><br/><span class="hl-12">            </span><span class="hl-2">fooField</span><span class="hl-12">.</span><span class="hl-6">dispatchValue</span><span class="hl-12">(</span><span class="hl-2">event</span><span class="hl-12">.</span><span class="hl-2">target</span><span class="hl-12">.</span><span class="hl-2">value</span><span class="hl-12">);</span><br/><span class="hl-12">          }</span><span class="hl-4">}</span><br/><span class="hl-12">        </span><span class="hl-9">/&gt;</span><br/><span class="hl-12">      )</span><span class="hl-4">}</span><br/><span class="hl-0">    </span><span class="hl-9">&lt;/</span><span class="hl-10">Field</span><span class="hl-9">&gt;</span><br/><br/><span class="hl-0">    </span><span class="hl-9">&lt;</span><span class="hl-10">Field</span><span class="hl-0"> </span><span class="hl-11">field</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">rootField</span><span class="hl-12">.</span><span class="hl-6">at</span><span class="hl-12">(</span><span class="hl-3">&#39;bar&#39;</span><span class="hl-12">)</span><span class="hl-4">}</span><span class="hl-9">&gt;</span><br/><span class="hl-0">      </span><span class="hl-4">{</span><span class="hl-2">barField</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> (</span><br/><span class="hl-12">        </span><span class="hl-9">&lt;</span><span class="hl-13">input</span><br/><span class="hl-12">          </span><span class="hl-11">type</span><span class="hl-0">=</span><span class="hl-3">&quot;number&quot;</span><br/><span class="hl-12">          </span><span class="hl-11">value</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">barField</span><span class="hl-12">.</span><span class="hl-6">getValue</span><span class="hl-12">()</span><span class="hl-4">}</span><br/><span class="hl-12">          </span><span class="hl-11">onChange</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">event</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> {</span><br/><span class="hl-12">            </span><span class="hl-2">barField</span><span class="hl-12">.</span><span class="hl-6">dispatchValue</span><span class="hl-12">(</span><span class="hl-2">event</span><span class="hl-12">.</span><span class="hl-2">target</span><span class="hl-12">.</span><span class="hl-2">valueAsNumber</span><span class="hl-12">);</span><br/><span class="hl-12">          }</span><span class="hl-4">}</span><br/><span class="hl-12">        </span><span class="hl-9">/&gt;</span><br/><span class="hl-12">      )</span><span class="hl-4">}</span><br/><span class="hl-0">    </span><span class="hl-9">&lt;/</span><span class="hl-10">Field</span><span class="hl-9">&gt;</span><br/><span class="hl-0">  </span><span class="hl-9">&lt;/&gt;</span><span class="hl-0">;</span><br/><span class="hl-0">};</span>
</code></pre>
<p>You may have noticed that even though we didn&#39;t specify any types yet, our fields are strictly typed. You can check this
by replacing the value dispatched to <code>barField</code>:</p>
<pre><code class="language-diff"><span class="hl-3">- barField.dispatchValue(event.target.valueAsNumber);</span><br/><span class="hl-8">+ barField.dispatchValue(event.target.value);</span>
</code></pre>
<p>This would cause TypeScript to show an error that <code>barField</code> value must be of a number type.</p>

<a href="#eager-and-lazy-re-renders" id="eager-and-lazy-re-renders" style="color: inherit; text-decoration: none;">
  <h2>Eager and lazy re-renders</h2>
</a>
<p>Let&#39;s consider the form with two <code>Field</code> elements. One of them renders the value of the root field and the other one
updates the derived field:</p>
<pre><code class="language-tsx"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-6">App</span><span class="hl-0"> = () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">rootField</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">bar:</span><span class="hl-0"> </span><span class="hl-3">&#39;qux&#39;</span><span class="hl-0"> });</span><br/><br/><span class="hl-0">  </span><span class="hl-1">return</span><span class="hl-0"> </span><span class="hl-9">&lt;&gt;</span><br/><span class="hl-0">    </span><span class="hl-9">&lt;</span><span class="hl-10">Field</span><span class="hl-0"> </span><span class="hl-11">field</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">rootField</span><span class="hl-4">}</span><span class="hl-9">&gt;</span><br/><span class="hl-0">      </span><span class="hl-4">{</span><span class="hl-2">rootField</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> </span><span class="hl-10">JSON</span><span class="hl-12">.</span><span class="hl-6">stringify</span><span class="hl-12">(</span><span class="hl-2">rootField</span><span class="hl-12">.</span><span class="hl-6">getValue</span><span class="hl-12">())</span><span class="hl-4">}</span><br/><span class="hl-0">    </span><span class="hl-9">&lt;/</span><span class="hl-10">Field</span><span class="hl-9">&gt;</span><br/><br/><span class="hl-0">    </span><span class="hl-9">&lt;</span><span class="hl-10">Field</span><span class="hl-0"> </span><span class="hl-11">field</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">rootField</span><span class="hl-12">.</span><span class="hl-6">at</span><span class="hl-12">(</span><span class="hl-3">&#39;bar&#39;</span><span class="hl-12">)</span><span class="hl-4">}</span><span class="hl-9">&gt;</span><br/><span class="hl-0">      </span><span class="hl-4">{</span><span class="hl-2">barField</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> (</span><br/><span class="hl-12">        </span><span class="hl-9">&lt;</span><span class="hl-13">input</span><br/><span class="hl-12">          </span><span class="hl-11">type</span><span class="hl-0">=</span><span class="hl-3">&quot;text&quot;</span><br/><span class="hl-12">          </span><span class="hl-11">value</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">barField</span><span class="hl-12">.</span><span class="hl-6">getValue</span><span class="hl-12">()</span><span class="hl-4">}</span><br/><span class="hl-12">          </span><span class="hl-11">onChange</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">event</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> {</span><br/><span class="hl-12">            </span><span class="hl-2">barField</span><span class="hl-12">.</span><span class="hl-6">dispatchValue</span><span class="hl-12">(</span><span class="hl-2">event</span><span class="hl-12">.</span><span class="hl-2">target</span><span class="hl-12">.</span><span class="hl-2">value</span><span class="hl-12">);</span><br/><span class="hl-12">          }</span><span class="hl-4">}</span><br/><span class="hl-12">        </span><span class="hl-9">/&gt;</span><br/><span class="hl-12">      )</span><span class="hl-4">}</span><br/><span class="hl-0">    </span><span class="hl-9">&lt;/</span><span class="hl-10">Field</span><span class="hl-9">&gt;</span><br/><span class="hl-0">  </span><span class="hl-9">&lt;/&gt;</span><span class="hl-0">;</span><br/><span class="hl-0">};</span>
</code></pre>
<p>By default, <code>Form</code> component re-renders only when the provided field was updated directly, so updates from ancestors or
derived fields would be ignored. Add the <code>eagerlyUpdated</code> property to force <code>Field</code> to re-render whenever its value was
affected.</p>
<pre><code class="language-diff"><span class="hl-3">- &lt;Field field={rootField}&gt;</span><br/><span class="hl-8">+ &lt;Field</span><br/><span class="hl-8">+   field={rootField}</span><br/><span class="hl-8">+   eagerlyUpdated={true}</span><br/><span class="hl-8">+ &gt;</span><br/><span class="hl-0">    {rootField =&gt; JSON.stringify(rootField.getValue())}</span><br/><span class="hl-0">  &lt;/Field&gt;</span>
</code></pre>
<p>Now both fields are re-rendered when user edits the input text.</p>

<a href="#reacting-to-changes" id="reacting-to-changes" style="color: inherit; text-decoration: none;">
  <h2>Reacting to changes</h2>
</a>
<p><a href="#field-observability">Subscribing to a field</a> isn&#39;t always convenient. Instead, you can use an <code>onChange</code> handler that
is triggered only when the field value was updated <a href="#transient-updates">non-transiently</a>.</p>
<pre><code class="language-tsx"><span class="hl-9">&lt;</span><span class="hl-10">Field</span><br/><span class="hl-0">  </span><span class="hl-11">field</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">rootField</span><span class="hl-12">.</span><span class="hl-6">at</span><span class="hl-12">(</span><span class="hl-3">&#39;bar&#39;</span><span class="hl-12">)</span><span class="hl-4">}</span><br/><span class="hl-0">  </span><span class="hl-11">onChange</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">value</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> {</span><br/><span class="hl-12">    </span><span class="hl-7">// Handle the value change</span><br/><span class="hl-12">  }</span><span class="hl-4">}</span><br/><span class="hl-9">&gt;</span><br/><span class="hl-0">  </span><span class="hl-4">{</span><span class="hl-2">barField</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> (</span><br/><span class="hl-12">    </span><span class="hl-9">&lt;</span><span class="hl-13">input</span><br/><span class="hl-12">      </span><span class="hl-11">type</span><span class="hl-0">=</span><span class="hl-3">&quot;text&quot;</span><br/><span class="hl-12">      </span><span class="hl-11">value</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">barField</span><span class="hl-12">.</span><span class="hl-6">getValue</span><span class="hl-12">()</span><span class="hl-4">}</span><br/><span class="hl-12">      </span><span class="hl-11">onChange</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">event</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> {</span><br/><span class="hl-12">        </span><span class="hl-2">barField</span><span class="hl-12">.</span><span class="hl-6">dispatchValue</span><span class="hl-12">(</span><span class="hl-2">event</span><span class="hl-12">.</span><span class="hl-2">target</span><span class="hl-12">.</span><span class="hl-2">value</span><span class="hl-12">);</span><br/><span class="hl-12">      }</span><span class="hl-4">}</span><br/><span class="hl-12">    </span><span class="hl-9">/&gt;</span><br/><span class="hl-12">  )</span><span class="hl-4">}</span><br/><span class="hl-9">&lt;/</span><span class="hl-10">Field</span><span class="hl-9">&gt;</span>
</code></pre>

<a href="#plugins" id="plugins" style="color: inherit; text-decoration: none;">
  <h1>Plugins</h1>
</a>
<p>Plugins are a very powerful mechanism that allows enriching fields with custom functionality.</p>
<p>Let&#39;s enhance the field with the <code>ref</code> property that would hold the <code>RefObject</code>:</p>
<pre><code class="language-ts"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">createRef</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;react&#39;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">Plugin</span><span class="hl-0">, </span><span class="hl-2">useField</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;roqueform&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">refPlugin</span><span class="hl-0">: </span><span class="hl-10">Plugin</span><span class="hl-0">&lt;</span><span class="hl-10">any</span><span class="hl-0">, { </span><span class="hl-2">ref</span><span class="hl-0">: </span><span class="hl-10">RefObject</span><span class="hl-0">&lt;</span><span class="hl-10">HTMLInputElement</span><span class="hl-0">&gt; }&gt; = </span><span class="hl-2">field</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-1">return</span><span class="hl-0"> { ...</span><span class="hl-2">field</span><span class="hl-0">, </span><span class="hl-2">ref:</span><span class="hl-0"> </span><span class="hl-6">createRef</span><span class="hl-0">() };</span><br/><span class="hl-0">};</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">rootField</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">bar:</span><span class="hl-0"> </span><span class="hl-3">&#39;qux&#39;</span><span class="hl-0"> }, </span><span class="hl-2">refPlugin</span><span class="hl-0">);</span><br/><span class="hl-7">// â†’ Field&lt;{ bar: string }, { ref: RefObject&lt;HTMLInputElement&gt; }&gt; &amp; { ref: RefObject&lt;HTMLInputElement&gt; }</span>
</code></pre>
<p>The second argument of the <code>useField</code> hook is the plugin function that accepts a field instance and enriches it with
the new functionality. In our case it adds the <code>ref</code> to each field derived from the <code>rootField</code> and to the <code>rootField</code>
itself.</p>
<pre><code class="language-tsx"><span class="hl-9">&lt;</span><span class="hl-10">Field</span><span class="hl-0"> </span><span class="hl-11">field</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">rootField</span><span class="hl-12">.</span><span class="hl-6">at</span><span class="hl-12">(</span><span class="hl-3">&#39;bar&#39;</span><span class="hl-12">)</span><span class="hl-4">}</span><span class="hl-9">&gt;</span><br/><span class="hl-0">  </span><span class="hl-4">{</span><span class="hl-2">barField</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> (</span><br/><span class="hl-12">    </span><span class="hl-9">&lt;</span><span class="hl-13">input</span><br/><span class="hl-12">      </span><span class="hl-7">// ðŸŸ¡ Notice the ref property</span><br/><span class="hl-12">      </span><span class="hl-11">ref</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">barField</span><span class="hl-12">.</span><span class="hl-2">ref</span><span class="hl-4">}</span><br/><span class="hl-12">      </span><span class="hl-11">value</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">barField</span><span class="hl-12">.</span><span class="hl-6">getValue</span><span class="hl-12">()</span><span class="hl-4">}</span><br/><span class="hl-12">      </span><span class="hl-11">onChange</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">event</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> {</span><br/><span class="hl-12">        </span><span class="hl-2">barField</span><span class="hl-12">.</span><span class="hl-6">dispatchValue</span><span class="hl-12">(</span><span class="hl-2">event</span><span class="hl-12">.</span><span class="hl-2">target</span><span class="hl-12">.</span><span class="hl-2">value</span><span class="hl-12">);</span><br/><span class="hl-12">      }</span><span class="hl-4">}</span><br/><span class="hl-12">    </span><span class="hl-9">/&gt;</span><br/><span class="hl-12">  )</span><span class="hl-4">}</span><br/><span class="hl-9">&lt;/</span><span class="hl-10">Field</span><span class="hl-9">&gt;</span>
</code></pre>
<p>After the <code>Field</code> mounts we can use ref to imperatively scroll the input element into view:</p>
<pre><code class="language-ts"><span class="hl-2">rootField</span><span class="hl-0">.</span><span class="hl-6">at</span><span class="hl-0">(</span><span class="hl-3">&#39;bar&#39;</span><span class="hl-0">).</span><span class="hl-2">ref</span><span class="hl-0">.</span><span class="hl-2">current</span><span class="hl-0">?.</span><span class="hl-6">scrollIntoView</span><span class="hl-0">();</span>
</code></pre>
<p>The <code>ref</code> plugin is available as a separate module <a href="./packages/ref-plugin#readme">@roqueform/ref-plugin</a>:</p>
<pre><code class="language-ts"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">useField</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;roqueform&#39;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">refPlugin</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@roqueform/ref-plugin&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">rootField</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">bar:</span><span class="hl-0"> </span><span class="hl-3">&#39;qux&#39;</span><span class="hl-0"> }, </span><span class="hl-6">refPlugin</span><span class="hl-0">&lt;</span><span class="hl-10">HTMLInputElement</span><span class="hl-0">&gt;());</span><br/><span class="hl-7">// â†’ Field&lt;{ bar: string }, RefPlugin&lt;HTMLInputElement&gt;&gt; &amp; RefPlugin&lt;HTMLInputElement&gt;</span>
</code></pre>

<a href="#composing-plugins" id="composing-plugins" style="color: inherit; text-decoration: none;">
  <h2>Composing plugins</h2>
</a>
<p>You may want to use multiple plugins at the same time, but <code>useField</code> allows passing only one plugin function. To
combine multiple plugins into one, use <code>applyPlugins</code> helper function:</p>
<pre><code class="language-ts"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">applyPlugins</span><span class="hl-0">, </span><span class="hl-2">useField</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;roqueform&#39;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">refPlugin</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@roqueform/ref-plugin&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">field</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">bar:</span><span class="hl-0"> </span><span class="hl-3">&#39;qux&#39;</span><span class="hl-0"> }, </span><span class="hl-6">applyPlugins</span><span class="hl-0">(</span><span class="hl-6">refPlugin</span><span class="hl-0">(), </span><span class="hl-2">anotherPlugin</span><span class="hl-0">));</span>
</code></pre>

<a href="#form-submission" id="form-submission" style="color: inherit; text-decoration: none;">
  <h1>Form submission</h1>
</a>
<p>Without plugins, Roqueform only manages the state of the form fields, and doesn&#39;t affect how the form is submitted. So
you can use <code>form</code> tags as you did before, but read input values from the <code>Field</code> object:</p>
<pre><code class="language-tsx"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-6">App</span><span class="hl-0"> = () </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">rootField</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">bar:</span><span class="hl-0"> </span><span class="hl-3">&#39;foo&#39;</span><span class="hl-0"> });</span><br/><br/><span class="hl-0">  </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-6">handleSubmit</span><span class="hl-0"> = (</span><span class="hl-2">event</span><span class="hl-0">: </span><span class="hl-10">SyntheticEvent</span><span class="hl-0">): </span><span class="hl-10">void</span><span class="hl-0"> </span><span class="hl-4">=&gt;</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">event</span><span class="hl-0">.</span><span class="hl-6">preventDefault</span><span class="hl-0">();</span><br/><br/><span class="hl-0">    </span><span class="hl-7">// The form value to submit</span><br/><span class="hl-0">    </span><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">value</span><span class="hl-0"> = </span><span class="hl-2">rootField</span><span class="hl-0">.</span><span class="hl-6">getValue</span><span class="hl-0">();</span><br/><span class="hl-0">  };</span><br/><br/><span class="hl-0">  </span><span class="hl-1">return</span><span class="hl-0"> (</span><br/><span class="hl-0">    </span><span class="hl-9">&lt;</span><span class="hl-13">form</span><span class="hl-0"> </span><span class="hl-11">onSubmit</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">handleSubmit</span><span class="hl-4">}</span><span class="hl-9">&gt;</span><br/><br/><span class="hl-0">      </span><span class="hl-9">&lt;</span><span class="hl-10">Field</span><span class="hl-0"> </span><span class="hl-11">field</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">rootField</span><span class="hl-12">.</span><span class="hl-6">at</span><span class="hl-12">(</span><span class="hl-3">&#39;bar&#39;</span><span class="hl-12">)</span><span class="hl-4">}</span><span class="hl-9">&gt;</span><br/><span class="hl-0">        </span><span class="hl-4">{</span><span class="hl-2">barField</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> (</span><br/><span class="hl-12">          </span><span class="hl-9">&lt;</span><span class="hl-13">input</span><br/><span class="hl-12">            </span><span class="hl-11">value</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">barField</span><span class="hl-12">.</span><span class="hl-6">getValue</span><span class="hl-12">()</span><span class="hl-4">}</span><br/><span class="hl-12">            </span><span class="hl-11">onChange</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">event</span><span class="hl-12"> </span><span class="hl-4">=&gt;</span><span class="hl-12"> {</span><br/><span class="hl-12">              </span><span class="hl-2">barField</span><span class="hl-12">.</span><span class="hl-6">dispatchValue</span><span class="hl-12">(</span><span class="hl-2">event</span><span class="hl-12">.</span><span class="hl-2">target</span><span class="hl-12">.</span><span class="hl-2">value</span><span class="hl-12">);</span><br/><span class="hl-12">            }</span><span class="hl-4">}</span><br/><span class="hl-12">          </span><span class="hl-9">/&gt;</span><br/><span class="hl-12">        )</span><span class="hl-4">}</span><br/><span class="hl-0">      </span><span class="hl-9">&lt;/</span><span class="hl-10">Field</span><span class="hl-9">&gt;</span><br/><br/><span class="hl-0">      </span><span class="hl-9">&lt;</span><span class="hl-13">button</span><span class="hl-0"> </span><span class="hl-11">type</span><span class="hl-0">=</span><span class="hl-3">&quot;submit&quot;</span><span class="hl-9">&gt;</span><br/><span class="hl-0">        </span><span class="hl-4">{</span><span class="hl-3">&#39;Submit&#39;</span><span class="hl-4">}</span><br/><span class="hl-0">      </span><span class="hl-9">&lt;/</span><span class="hl-13">button</span><span class="hl-9">&gt;</span><br/><br/><span class="hl-0">    </span><span class="hl-9">&lt;/</span><span class="hl-13">form</span><span class="hl-9">&gt;</span><br/><span class="hl-0">  );</span><br/><span class="hl-0">};</span>
</code></pre>
<p>You can always <a href="#plugins">create a plugin</a> that would enhance the <code>Field</code> with custom submit mechanics.</p>

<a href="#validation" id="validation" style="color: inherit; text-decoration: none;">
  <h1>Validation</h1>
</a>
<p>Roqueform isn&#39;t tied to any validation library. You can use an existing plugin, or write your own to extend Roqueform
with validation provided by an arbitrary library.</p>
<p>Currently, the only available validation plugin <a href="./packages/doubter-plugin#readme">@roqueform/doubter-plugin</a> which
uses <a href="https://github.com/smikhalevski/doubter#readme">Doubter</a> under-the-hood.</p>
<pre><code class="language-ts"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">useField</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;roqueform&#39;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">doubterPlugin</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@roqueform/doubter-plugin&#39;</span><span class="hl-0">;</span><br/><span class="hl-1">import</span><span class="hl-0"> </span><span class="hl-4">*</span><span class="hl-0"> </span><span class="hl-1">as</span><span class="hl-0"> </span><span class="hl-2">d</span><span class="hl-0"> </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;doubter&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">valueType</span><span class="hl-0"> = </span><span class="hl-2">d</span><span class="hl-0">.</span><span class="hl-6">object</span><span class="hl-0">({</span><br/><span class="hl-0">  </span><span class="hl-2">bar:</span><span class="hl-0"> </span><span class="hl-2">d</span><span class="hl-0">.</span><span class="hl-6">string</span><span class="hl-0">().</span><span class="hl-6">min</span><span class="hl-0">(</span><span class="hl-8">5</span><span class="hl-0">)</span><br/><span class="hl-0">});</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">rootField</span><span class="hl-0"> = </span><span class="hl-6">useField</span><span class="hl-0">({ </span><span class="hl-2">bar:</span><span class="hl-0"> </span><span class="hl-3">&#39;qux&#39;</span><span class="hl-0"> }, </span><span class="hl-6">doubterPlugin</span><span class="hl-0">(</span><span class="hl-2">valueType</span><span class="hl-0">));</span><br/><br/><span class="hl-2">rootField</span><span class="hl-0">.</span><span class="hl-6">validate</span><span class="hl-0">();</span><br/><br/><span class="hl-2">rootField</span><span class="hl-0">.</span><span class="hl-6">at</span><span class="hl-0">(</span><span class="hl-3">&#39;bar&#39;</span><span class="hl-0">).</span><span class="hl-6">getIssue</span><span class="hl-0">();</span><br/><span class="hl-7">// â†’ { message: &#39;Must have the minimum length of 5&#39;, â€¦ }</span>
</code></pre>
<p><a href="./packages/doubter-plugin#readme">Plugin usage details can be found here.</a></p>

<a href="#accessors" id="accessors" style="color: inherit; text-decoration: none;">
  <h1>Accessors</h1>
</a>
<p>When you derive a new field or update a derived field, Roqueform uses an accessor to read and write a value to the
parent field. You can alter the way field values are read and written by providing a custom implementation of <code>Accessor</code>
interface to <code>AccessorContext</code>.</p>
<pre><code class="language-tsx"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">objectAccessor</span><span class="hl-0">, </span><span class="hl-2">AccessorContext</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;roqueform&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-9">&lt;</span><span class="hl-10">AccessorContext.Provider</span><span class="hl-0"> </span><span class="hl-11">value</span><span class="hl-0">=</span><span class="hl-4">{</span><span class="hl-2">objectAccessor</span><span class="hl-4">}</span><span class="hl-9">&gt;</span><br/><span class="hl-0">  </span><span class="hl-4">{</span><span class="hl-7">/* useField should go here */</span><span class="hl-4">}</span><br/><span class="hl-9">&lt;/</span><span class="hl-10">AccessorContext.Provider</span><span class="hl-9">&gt;</span>
</code></pre>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">Roqueform</a>
<ul>
<li class="tsd-kind-module"><a href="modules/doubter_plugin_src_main.html">doubter-<wbr/>plugin/src/main</a></li>
<li class="tsd-kind-module"><a href="modules/ref_plugin_src_main.html">ref-<wbr/>plugin/src/main</a></li>
<li class="tsd-kind-module"><a href="modules/roqueform_src_main.html">roqueform/src/main</a></li></ul></li></ul></div></details></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>